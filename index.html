<!DOCTYPE html><html lang="es"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Oso Abrazos - Aventura Completa</title> <style> body 
  { font-family: 'Comic Sans MS', cursive, sans-serif; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; text-align: center; margin: 0; padding: 20px; overflow-x: hidden; } h1 { font-size: 2.5rem; text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5); color: #FFD700; margin-bottom: 10px; 
                                                                                                                                                                                                           } .subtitle { font-size: 1.2rem; margin-bottom: 20px; } .game-wrapper { display: flex; justify-content: center; margin: 20px 0; 
                                                                                                                                                                                                                                                                                 } #gameContainer { position: relative; width: 800px; height: 500px; border: 5px solid #FFD700; border-radius: 15px; overflow: hidden; box-shadow: 0 0 30px rgba(0, 0, 0, 0.6); } #gameCanvas { display: block; } </style> </head> <body> <h1>üêª Oso Abrazos - Aventura Completa</h1> <p class="subtitle">¬°Ayuda al Oso Abrazos a derrotar al Lobo Feroz en 6 niveles emocionantes!</p> <div class="game-wrapper"> <div id="gameContainer"> <canvas id="gameCanvas" width="800" height="500"></canvas> </div> </div> <script> const baseUrl = "https://raw.githubusercontent.com/Evelez23/-oso.abrazos-/refs/heads/main/img"; // Sprites const sprites = { idle: new Image(), hug: new Image(), geminiEnemy: new Image() 
                                                                                                                                                                                                                                                                                   }; // URLs corregidas const imageUrls = { idle: `${baseUrl}/oso/oso_idle.svg`, hug: `${baseUrl}/oso/oso_hugging.svg`, geminiEnemy: `${baseUrl}/sprites/Gemini_Generated_Image_1w8k311w8k311w8k.png`, background_1_1: `${baseUrl}/fondos/background_1_1.jpeg`, background_1_2: `${baseUrl}/fondos/background_1_2.jpeg`, background_1_3: `${baseUrl}/fondos/background_1_3.jpeg`, background_2_1: `${baseUrl}/fondos/background_2_1.jpeg`, background_2_2: `${baseUrl}/fondos/background_2_2.jpeg`, background_2_3: `${baseUrl}/fondos/background_2_3.jpeg`, background_final: `${baseUrl}/fondos/background_final.jpeg` 
                                                                                                                                                                                                                                                                                   }; // Precarga for (let key in imageUrls) { sprites[key] = new Image(); sprites[key].src = imageUrls[key]; } // Game vars const canvas = document.getElementById("gameCanvas"); const ctx = canvas.getContext("2d"); window.enemies = []; // ==== SPRITE SHEET ANIMADO con grilla autom√°tica ==== const enemySpriteConfig = { frameWidth: 64, // ancho de cada frame frameHeight: 64, // alto de cada frame frameCount: 1, // se recalcula cols: 1, // columnas (detectado) rows: 1, // filas (detectado) frameSpeed: 10 // ticks por frame }; let enemyFrameIndex = 0; let enemyFrameCounter = 0; // Cuando la imagen cargue, calcular frames autom√°ticamente sprites.geminiEnemy.onload = () => { enemySpriteConfig.cols = Math.floor(sprites.geminiEnemy.width / enemySpriteConfig.frameWidth); enemySpriteConfig.rows = Math.floor(sprites.geminiEnemy.height / enemySpriteConfig.frameHeight); enemySpriteConfig.frameCount = enemySpriteConfig.cols * enemySpriteConfig.rows; console.log(`‚úÖ Sprite sheet cargado con ${enemySpriteConfig.frameCount} frames (${enemySpriteConfig.cols}x${enemySpriteConfig.rows})`); }; function drawSpriteFrame(ctx, image, config, frameIndex, x, y, scale = 1) { const { frameWidth, frameHeight, frameCount, cols } = config; if (frameCount <= 0) return; // evita error si a√∫n no carga const col = frameIndex % cols; const row = Math.floor(frameIndex / cols); const sx = col * frameWidth; const sy = row * frameHeight; ctx.drawImage( image, sx, sy, frameWidth, frameHeight, // recorte x, y, frameWidth * scale, frameHeight * scale // destino ); } // ==== Configuraci√≥n de nivel con enemigos animados ==== function setupNormalLevel() { window.enemies = []; for (let i = 0; i < 3; i++) { window.enemies.push({ x: 200 + i * 150, y: 380, width: 64, height: 64, sprite: sprites.geminiEnemy }); } } // ==== Loop principal ==== function gameLoop() { ctx.clearRect(0, 0, canvas.width, canvas.height); // Fondo simple if (sprites.background_1_1.complete) { ctx.drawImage(sprites.background_1_1, 0, 0, canvas.width, canvas.height); } else { ctx.fillStyle = "#87CEEB"; ctx.fillRect(0, 0, canvas.width, canvas.height); } // Dibujar enemigos animados for (let enemy of window.enemies) { if (enemy.sprite.complete) { drawSpriteFrame(ctx, enemy.sprite, enemySpriteConfig, enemyFrameIndex, enemy.x, enemy.y, 1.2); } } // Animaci√≥n de frames enemyFrameCounter++; if (enemyFrameCounter >= enemySpriteConfig.frameSpeed) { enemyFrameCounter = 0; enemyFrameIndex = (enemyFrameIndex + 1) % enemySpriteConfig.frameCount; 
                                                                                                                                                                                                                                                                                   } requestAnimationFrame(gameLoop); 
  } // Iniciar juego setupNormalLevel(); gameLoop(); </script></body> </html>
