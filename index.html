<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Oso Abrazos - Aventura Completa</title>
  <style>
    /* ... (el CSS permanece igual) ... */
  </style>
</head>
<body>
  <div id="gameContainer">
    <!-- ... (el HTML permanece igual) ... -->
  </div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    // ... (variables permanecen igual) ...

    // Sprites
    const sprites = {
      oso_idle: new Image(),
      oso_walk: new Image(),
      oso_jump: new Image(),
      oso_run: new Image(),
      oso_sit: new Image(),
      oso_hugging: new Image(),
      oso_portada: new Image(),
      ardilla: new Image(),
      conejo: new Image(),
      pajarito: new Image(),
      Enemigos_01: new Image(),
      Enemigos_02: new Image(),
      Enemigos_03: new Image(),
      miel: new Image(),
      osoyuni: new Image(),
      uni_run: new Image(),
      uni_shup: new Image(),
      uni_corazon: new Image()
    };
    
    // URLs CORREGIDAS con las rutas exactas de tu repositorio
    const baseUrl = "https://raw.githubusercontent.com/Evelez23/-microdelecion/main/img/";
    const imageUrls = {
      // Sprites del oso - caminar se llama oso_walk.svg no oso_valk.svg
      oso_idle: `${baseUrl}oso/oso_idle.svg`,
      oso_walk: `${baseUrl}oso/oso_walk.svg`,  // ¬°CORREGIDO!
      oso_jump: `${baseUrl}oso/oso_jump.svg`,
      oso_run: `${baseUrl}oso/oso_run.svg`,
      oso_sit: `${baseUrl}oso/oso_sit.svg`,
      oso_hugging: `${baseUrl}oso/oso_hugging.svg`,
      oso_portada: `${baseUrl}oso/oso_portada.jpg`,
      
      // Amigos - en carpeta Amigos/
      ardilla: `${baseUrl}Amigos/ardilla.png`,
      conejo: `${baseUrl}Amigos/conejo.png`,
      pajarito: `${baseUrl}Amigos/pajarito.png`,
      
      // Enemigos
      Enemigos_01: `${baseUrl}enemigos/Enemigos-01.svg`,
      Enemigos_02: `${baseUrl}enemigos/Enemigos-02.svg`,
      Enemigos_03: `${baseUrl}enemigos/Enemigos-03.svg`,
      
      // Items - ¬°CORREGIDOS! est√°n en carpeta Amigos/
      miel: `${baseUrl}Amigos/miel.png`,        // ¬°CORREGIDO!
      osoyuni: `${baseUrl}Amigos/osoyuni.png`,  // ¬°CORREGIDO!
      
      // Unicornio - en carpeta Amigos/
      uni_run: `${baseUrl}Amigos/unirrun.png`,
      uni_shup: `${baseUrl}Amigos/unirshup.png`,
      uni_corazon: `${baseUrl}Amigos/lovepower.png`
    };

    // Sonidos - COMENTADOS temporalmente para evitar errores
    const sounds = {
      /*
      background: new Audio('https://cdn.pixabay.com/download/audio/2021/10/25/audio_172d7dec90.mp3?filename=happy-children-98952.mp3'),
      jump: new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c4dc48e9c.mp3?filename=jump-6460.mp3'),
      collect: new Audio('https://cdn.pixabay.com/download/audio/2022/03/19/audio_5c452fd8e9.mp3?filename=power-up-6768.mp3'),
      hug: new Audio('https://cdn.pixabay.com/download/audio/2022/10/25/audio_1d41c6f9c9.mp3?filename=magical-harp-6215.mp3'),
      hurt: new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c4dc48e9c.mp3?filename=negative_beeps-6008.mp3'),
      enemy: new Audio('https://cdn.pixabay.com/download/audio/2022/10/13/audio_1b8a411fb8.mp3?filename=zap-88593.mp3'),
      shot: new Audio('https://cdn.pixabay.com/download/audio/2022/03/19/audio_5c2199f123.mp3?filename=laser-gun-87363.mp3'),
      powerUp: new Audio('https://cdn.pixabay.com/download/audio/2022/03/19/audio_5c452fd8e9.mp3?filename=power-up-6768.mp3')
      */
    };

    // Configurar sonidos (comentado temporalmente)
    /*
    for (let key in sounds) {
      sounds[key].volume = 0.6;
      sounds[key].preload = 'auto';
    }
    sounds.background.loop = true;
    */

    // Estado del juego
    let gameState = {
      score: 0,
      lives: 3,
      level: 1,
      gameStarted: false,
      soundEnabled: false  // Desactivado temporalmente
    };

    // ... (el resto del c√≥digo permanece igual hasta la funci√≥n playSound) ...

    function playSound(soundName) {
      // Comentado temporalmente hasta que agregues sonidos
      console.log(`üîä Sonido: ${soundName} (sonidos desactivados temporalmente)`);
      /*
      if (gameState.soundEnabled && sounds[soundName]) {
        const sound = new Audio(sounds[soundName].src);
        sound.volume = sounds[soundName].volume;
        sound.play().catch(e => console.log("Sound error: ", e));
      }
      */
    }

    // ... (el resto del c√≥digo permanece igual) ...

    // MODIFICAR la funci√≥n loadResources para mejor debug
    function loadResources() {
      console.log("üîÑ Iniciando carga de recursos...");
      
      for (let key in imageUrls) {
        const img = sprites[key];
        img.crossOrigin = "Anonymous";
        
        img.onload = () => {
          loadedResources++;
          const progress = Math.floor((loadedResources / totalResources) * 100);
          loadingProgress.style.width = `${progress}%`;
          loadingText.textContent = `${progress}%`;
          
          console.log(`‚úÖ ${key} cargado: ${imageUrls[key]}`);
          
          if (loadedResources === totalResources) {
            console.log("üéâ ¬°Todos los recursos cargados!");
            setTimeout(() => {
              loadingScreen.style.display = "none";
              startScreen.style.display = "flex";
              coverImage.src = imageUrls.oso_portada;
            }, 500);
          }
        };
        
        img.onerror = (e) => {
          console.error(`‚ùå ERROR cargando ${key}:`, imageUrls[key]);
          console.error("Detalles del error:", e);
          loadedResources++;
          
          // Crear placeholder para esta imagen
          createPlaceholder(key);
          
          if (loadedResources === totalResources) {
            loadingScreen.style.display = "none";
            startScreen.style.display = "flex";
            console.log("‚ö†Ô∏è Algunos recursos no se cargaron, usando placeholders");
          }
        };
        
        console.log(`üì¶ Intentando cargar: ${key} -> ${imageUrls[key]}`);
        img.src = imageUrls[key];
      }
    }

    function createPlaceholder(key) {
      console.log(`üü° Creando placeholder para: ${key}`);
      // Podemos a√±adir l√≥gica espec√≠fica para placeholders si es necesario
    }

    // ... (el resto del c√≥digo permanece igual) ...

    // A√±adir esta funci√≥n para verificar URLs manualmente
    function verifyImageUrls() {
      console.log("üîç Verificando URLs de im√°genes...");
      for (let key in imageUrls) {
        console.log(`${key}: ${imageUrls[key]}`);
      }
    }

    // Llamar a la verificaci√≥n al inicio
    verifyImageUrls();

    // Iniciar carga de recursos
    loadResources();
    
    // Iniciar loop
    gameLoop();
  </script>
</body>
</html>
